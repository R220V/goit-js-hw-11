{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// fetch('https://jsonplaceholder.typicode.com/posts?_sort=body&_limit=10') //робимо запит за постами\n//   .then(response => {\n//     // console.log(response);\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n\n//     return response.json(); //повертаємо розпаршені дані\n//   })\n//   //обробляємо проміс методами, дістаємо розпаршені дані\n//   .then(data => {\n//     console.log(data);\n//   })\n//   .catch(err => {\n//     if (err.message === '404') {\n//       alert('Постів не знайдено');\n//     }\n//   });\n\n// fetch(\n//   'https://api.unsplash.com/search/photos?client_id=VgVom1zWqHLL7Rt7mBXLC5YqRvQapFz6aLGinkF8ChQ&query=cat'\n// );\n\nconst searchFormEl = document.querySelector('.js-form-search');\n// console.log(searchFormEl);\nconst galleryEl = document.querySelector('.js-gallery');\n// console.log(galleryEl);\nconst createGalleryCardTemplate = imgInfo => {\n  return `\n    <li class=\"gallery-card\">\n        <img class=\"galley-img\" src=\"${imgInfo.urls.regular}\" alt=\"${imgInfo.alt_description}\"/>\n    </li>`;\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchedQuery = event.currentTarget.elements.user_query.value.trim('');\n\n  if (searchedQuery === '') {\n    //перевірка на пусті введення в інпуті\n    alert('Поле має бути заповнено');\n    return;\n  }\n  fetch(\n    `https://api.unsplash.com/search/photos?query=${searchedQuery}&client_id=VgVom1zWqHLL7Rt7mBXLC5YqRvQapFz6aLGinkF8ChQ&per_page=12`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.results.length === 0) {\n        //перевірка на неіснуюче слово в інпуті\n        alert('За таким ключовим словом зображень не знайдено');\n        galleryEl.innerHTML = ''; //почистили галерею\n        searchFormEl.reset(); //почистили імпут\n        return;\n      }\n      const galleryTemplate = data.results\n        .map(el => createGalleryCardTemplate(el))\n        .join(''); //генеруємо розмітку\n      galleryEl.innerHTML = galleryTemplate; //відмальовуємо на сторінці\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\n// import iziToast from 'izitoast';\n// import SimpleLightbox from 'simplelightbox';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// import { createGalleryCardTemplate } from './js/render-functions';\n// import { fetchPhotosByQuery } from './js/pixabay-api';\n\n// const searchFormEl = document.querySelector('.js-search-form');\n// const galleryEl = document.querySelector('.js-gallery');\n// const loader = document.querySelector('.loader');\n// const onSearchFormSubmit = event => {\n//   event.preventDefault();\n\n//   const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n//   if (searchedQuery === '') {\n//     iziToast.error({\n//       message: 'Please enter your request',\n//       position: 'topRight',\n//     });\n//     return;\n//   }\n//   loader.classList.remove('is-hidden');\n//   fetchPhotosByQuery(searchedQuery)\n//     .then(data => {\n//       if (data.total === 0) {\n//         iziToast.error({\n//           message:\n//             '\"Sorry, there are no images matching your search query. Please try again!\"',\n//           position: 'topRight',\n//         });\n\n//         galleryEl.innerHTML = '';\n//         searchFormEl.reset();\n//         return;\n//       }\n\n//       const galleryTemplate = data.hits\n//         .map(el => createGalleryCardTemplate(el))\n//         .join('');\n//       galleryEl.innerHTML = galleryTemplate;\n//       loader.classList.add('is-hidden');\n//       const gallery = new SimpleLightbox('.js-gallery a', {\n//         captionDelay: 300,\n//         captionsData: 'alt',\n//       });\n//       gallery.refresh();\n//     })\n//     .catch(err => {\n//       loader.style.display = 'none';\n//       console.log(err);\n//     });\n//   searchFormEl.reset();\n// };\n\n// searchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["searchFormEl","galleryEl","createGalleryCardTemplate","imgInfo","onSearchFormSubmit","event","searchedQuery","response","data","galleryTemplate","el","err"],"mappings":"ssBAuBA,MAAMA,EAAe,SAAS,cAAc,iBAAiB,EAEvDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAA4BC,GACzB;AAAA;AAAA,uCAE8BA,EAAQ,KAAK,OAAO,UAAUA,EAAQ,eAAe;AAAA,WAItFC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBD,EAAM,cAAc,SAAS,WAAW,MAAM,KAAK,EAAE,EAE3E,GAAIC,IAAkB,GAAI,CAExB,MAAM,yBAAyB,EAC/B,MACD,CACD,MACE,gDAAgDA,CAAa,oEAC9D,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAQ,SAAW,EAAG,CAE7B,MAAM,gDAAgD,EACtDP,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClB,MACD,CACD,MAAMS,EAAkBD,EAAK,QAC1B,IAAIE,GAAMR,EAA0BQ,CAAE,CAAC,EACvC,KAAK,EAAE,EACVT,EAAU,UAAYQ,CAC5B,CAAK,EACA,MAAME,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,EACAX,EAAa,iBAAiB,SAAUI,CAAkB"}