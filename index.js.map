{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgInfo => {\n  return `\n      <li class=\"gallery-card\">\n          <img class=\"galley-img\" src=\"${imgInfo.urls.regular}\" alt=\"${imgInfo.alt_description}\"/>\n      </li>`;\n};\n","export const fetchPhotosByQuery = searchedQuery => {\n  const searchParams = new URLSearchParams({\n    query: searchedQuery,\n    client_id: 'VgVom1zWqHLL7Rt7mBXLC5YqRvQapFz6aLGinkF8ChQ',\n    per_page: 9,\n  });\n\n  return fetch(\n    `https://api.unsplash.com/search/photos?${searchParams.toString()}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","// fetch('https://jsonplaceholder.typicode.com/posts?_sort=body&_limit=10') //робимо запит за постами\n//   .then(response => {\n//     // console.log(response);\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n\n//     return response.json(); //повертаємо розпаршені дані\n//   })\n//   //обробляємо проміс методами, дістаємо розпаршені дані\n//   .then(data => {\n//     console.log(data);\n//   })\n//   .catch(err => {\n//     if (err.message === '404') {\n//       alert('Постів не знайдено');\n//     }\n//   });\n\n// fetch(\n//   'https://api.unsplash.com/search/photos?client_id=VgVom1zWqHLL7Rt7mBXLC5YqRvQapFz6aLGinkF8ChQ&query=cat'\n// );\nimport { createGalleryCardTemplate } from '../src/js/render-functions';\nimport { fetchPhotosByQuery } from '../src/js/pixabay-api';\n\nconst searchFormEl = document.querySelector('.js-form-search');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst onSearchFormSubmit = event => {\n  //ф-ія викликається при сабміті форми\n  event.preventDefault();\n\n  const searchedQuery = event.currentTarget.elements.user_query.value.trim(''); //зчитуємо значення з інпута\n\n  if (searchedQuery === '') {\n    //перевірка, чи інпут не порожній\n    alert('Поле має бути заповнено');\n    return;\n  }\n\n  fetchPhotosByQuery(searchedQuery) //запит на сервер\n    .then(data => {\n      if (data.total === 0) {\n        //перевірка на неіснуюче слово в інпуті\n        alert('За таким ключовим словом зображень не знайдено');\n\n        galleryEl.innerHTML = ''; //почистили галерею\n\n        searchFormEl.reset(); //почистили імпут\n\n        return;\n      }\n      const galleryTemplate = data.results\n        .map(el => createGalleryCardTemplate(el))\n        .join(''); //генеруємо розмітку\n      galleryEl.innerHTML = galleryTemplate; //відмальовуємо на сторінці\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgInfo","fetchPhotosByQuery","searchedQuery","searchParams","response","searchFormEl","galleryEl","onSearchFormSubmit","event","data","galleryTemplate","el","err"],"mappings":"ssBAAO,MAAMA,EAA4BC,GAChC;AAAA;AAAA,yCAEgCA,EAAQ,KAAK,OAAO,UAAUA,EAAQ,eAAe;AAAA,aCHjFC,EAAqBC,GAAiB,CACjD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,MAAOD,EACP,UAAW,8CACX,SAAU,CACd,CAAG,EAED,OAAO,MACL,0CAA0CC,EAAa,SAAQ,CAAE,EACrE,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECUMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAqBC,GAAS,CAElCA,EAAM,eAAc,EAEpB,MAAMN,EAAgBM,EAAM,cAAc,SAAS,WAAW,MAAM,KAAK,EAAE,EAE3E,GAAIN,IAAkB,GAAI,CAExB,MAAM,yBAAyB,EAC/B,MACD,CAEDD,EAAmBC,CAAa,EAC7B,KAAKO,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CAEpB,MAAM,gDAAgD,EAEtDH,EAAU,UAAY,GAEtBD,EAAa,MAAK,EAElB,MACD,CACD,MAAMK,EAAkBD,EAAK,QAC1B,IAAIE,GAAMZ,EAA0BY,CAAE,CAAC,EACvC,KAAK,EAAE,EACVL,EAAU,UAAYI,CAC5B,CAAK,EACA,MAAME,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,EACAP,EAAa,iBAAiB,SAAUE,CAAkB"}